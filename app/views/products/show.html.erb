<p style="color: green"><%= notice %></p>
<p style="color: red"><%= alert %></p>

<div class="row bg-success p-4 rounded-5" style="margin-top: 5%; margin-left: 20%; margin-right: 20%;">
  <div class="col-md-6">
    <div id="productCarousel" class="carousel slide" data-bs-ride="carousel" style="width: 22.2vw; height: 9vw;">
      <div class="carousel-inner">
        <% if @product.photo1.attached? %>
          <div class="carousel-item active">
            <%= image_tag @product.photo1, class: "d-block w-100", style: "aspect-ratio: 3/4;", alt: "Main Photo" %>
          </div>
        <% end %>

        <% if @product.photo2.attached? %>
          <div class="carousel-item">
            <%= image_tag @product.photo2, class: "d-block w-100", style: "aspect-ratio: 3/4;", alt: "Photo 2" %>
          </div>
        <% end %>

        <% if @product.photo3.attached? %>
          <div class="carousel-item">
            <%= image_tag @product.photo3, class: "d-block w-100", style: "aspect-ratio: 3/4;", alt: "Photo 3" %>
          </div>
        <% end %>
      </div>
      <div style="margin-top: 15%; margin-left: 20%; margin-right: 20%;">
        <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

    </div>
  </div>

  <div class="col-md-6 ">
    <h3 class="text-secondary mt-5 mr-5">
      <%= @product.name %>
    </h3>
    <p >No estoque: <%= @product.quantity %></p>

    <h1 class="text-center" style="margin-top:72px; margin-bottom:24px"><strong>R$ <%= @product.valueSell %></strong></h1>
    
    <div class="text-center mb-4">
      <button type="button" class="btn btn-secondary my-5 px-5">
        <h4>Comprar</h4>
      </button>
    </div>
      <p>dimens√µes<%= @product.depth %>x<%= @product.width %>x<%= @product.length %></p>
      <p><%= @product.description %></p>

  </div>
      
      
</div>


<script>
document.addEventListener("DOMContentLoaded", function() {
  const productCarousel = new bootstrap.Carousel(document.getElementById("productCarousel"));

  // Atualizar a foto principal ao clicar em um slide do carrossel
  productCarousel._element.addEventListener("slid.bs.carousel", function(event) {
    const activePhoto = event.relatedTarget.querySelector("img");
    const mainPhoto = document.getElementById("main-photo");
    mainPhoto.src = activePhoto.src;
  });
});
</script>
